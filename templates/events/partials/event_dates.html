<div id="event-dates-section" class="bg-white shadow-sm ring-1 ring-gray-900/5 rounded-lg overflow-hidden">
    <div class="px-6 py-4 border-b border-gray-200">
        <h2 class="text-lg font-semibold text-gray-900">
            Proposed Dates
            {% if event_dates %}
            <span class="text-sm font-normal text-gray-500">({{ event_dates|length }})</span>
            {% endif %}
        </h2>
        <p class="text-sm text-gray-500 mt-1">Add the dates you'd like guests to choose from.</p>
    </div>

    {% if event_dates %}
    <ul class="divide-y divide-gray-200">
        {% for ed in event_dates %}
        <li class="px-6 py-3 flex items-center justify-between">
            <div>
                <span class="text-sm font-medium text-gray-900">{{ ed.date|date:"l, M j, Y \a\t g:i A" }}</span>
                {% if ed.label %}
                <span class="ml-2 text-sm text-gray-500">- {{ ed.label }}</span>
                {% endif %}
            </div>
            <button hx-post="{% url 'events:remove_date' event.pk ed.pk %}"
                    hx-target="#event-dates-section"
                    hx-swap="outerHTML"
                    hx-confirm="Remove this proposed date?"
                    class="text-xs text-red-600 hover:text-red-800">Remove</button>
        </li>
        {% endfor %}
    </ul>
    {% else %}
    <div class="px-6 py-6 text-center text-sm text-gray-500">
        No proposed dates yet. Add your first date below.
    </div>
    {% endif %}

    <!-- Add Date Form -->
    <div class="px-6 py-4 bg-gray-50 border-t border-gray-200">
        <form hx-post="{% url 'events:add_date' event.pk %}"
              hx-target="#event-dates-section"
              hx-swap="outerHTML"
              class="flex items-end gap-x-3">
            {% csrf_token %}
            <div class="flex-1">
                <label class="block text-xs font-medium text-gray-700 mb-1">Date & Time</label>
                {{ event_date_form.date }}
            </div>
            <div class="flex-1">
                <label class="block text-xs font-medium text-gray-700 mb-1">Label (optional)</label>
                {{ event_date_form.label }}
            </div>
            <button type="submit"
                    class="rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50">
                Add Date
            </button>
        </form>
    </div>
</div>
